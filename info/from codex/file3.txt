webapp-stocks/src/components/StockDetail.jsx

diff --git a/webapp-stocks/src/components/StockDetail.jsx b/webapp-stocks/src/components/StockDetail.jsx
index 91a4c29e4a2025f5eb4f220af52bd152e5315c70..268d46087bfae4ff3e4f66b0e7da681163ddf8f4 100644
--- a/webapp-stocks/src/components/StockDetail.jsx
+++ b/webapp-stocks/src/components/StockDetail.jsx
@@ -932,57 +932,65 @@ const StockDetail = ({ trade, onClose }) => {
               )}
               {data.politicalSaleCount > 0 && (
                 <p className="text-xs text-red-300">
                   üìâ {data.politicalSaleCount} sale{data.politicalSaleCount > 1 ? 's' : ''} (${data.politicalSales >= 1000000 ? (data.politicalSales / 1000000).toFixed(1) + 'M' : (data.politicalSales / 1000).toFixed(0) + 'K'})
                 </p>
               )}
               {data.politicians && data.politicians.length > 0 && (
                 <p className="text-xs text-slate-400 mt-1">
                   by {data.politicians.slice(0, 2).join(', ')}{data.politicians.length > 2 ? ` +${data.politicians.length - 2} more` : ''}
                 </p>
               )}
             </div>
           )}
         </div>
       );
     }
     return null;
   };
 
   // Determine if price is up or down
   const isPriceUp = stockHistory && stockHistory.change_24h_pct > 0;
   const chartColor = isPriceUp ? '#34d399' : '#f87171';
 
   // Event badge config for display
   const eventLabels = {
-    'holy-grail': { label: 'Holy Grail', icon: 'üî•', colorClass: 'bg-purple-500/20 text-purple-400 border-purple-500/30', tooltip: 'Clamp + price up!' },
-    'slump-recovery': { label: 'Slump Recovery', icon: 'üìà', colorClass: 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30', tooltip: 'Bottom-fishing success!' },
-    'clamp': { label: 'Clamp', icon: 'üìä', colorClass: 'bg-blue-500/20 text-blue-400 border-blue-500/30', tooltip: 'Purchases within 7 days' },
-    'restock': { label: 'Restock', icon: 'üîÑ', colorClass: 'bg-cyan-500/20 text-cyan-400 border-cyan-500/30', tooltip: '3+ purchases in 30 days' },
-    'plateau': { label: 'Plateau', icon: 'üìä', colorClass: 'bg-indigo-500/20 text-indigo-400 border-indigo-500/30', tooltip: 'Stable buy with follow-up' },
-    'mid-rise': { label: 'Mid-Rise', icon: '‚ö†Ô∏è', colorClass: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30', tooltip: 'Buying during uptrend' },
-    'disqualified': { label: 'Disqualified', icon: '‚ùå', colorClass: 'bg-red-500/20 text-red-400 border-red-500/30', tooltip: "Didn't work out" }
+    'bottom-fishing-win': { label: 'Bottom Catch', icon: 'üéØ', colorClass: 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30', tooltip: 'Bought after heavy drawdown and rebounded.' },
+    'breakout-accumulation': { label: 'Breakout Build', icon: 'üöÄ', colorClass: 'bg-purple-500/20 text-purple-400 border-purple-500/30', tooltip: 'Accumulation cluster followed by a breakout.' },
+    'slow-burn-accumulation': { label: 'Slow Burn', icon: 'üü¢', colorClass: 'bg-cyan-500/20 text-cyan-400 border-cyan-500/30', tooltip: 'Improved more gradually over ~20 days.' },
+    'stabilizing-accumulation': { label: 'Stabilizing', icon: 'üß±', colorClass: 'bg-blue-500/20 text-blue-400 border-blue-500/30', tooltip: 'Insider buying likely provided support.' },
+    'needs-follow-through': { label: 'Pending', icon: '‚è≥', colorClass: 'bg-slate-500/20 text-slate-300 border-slate-500/30', tooltip: 'Too recent to score confidently.' },
+    'late-chase': { label: 'Late Chase', icon: '‚ö†Ô∏è', colorClass: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30', tooltip: 'Bought into an uptrend, then momentum weakened.' },
+    'failed-support': { label: 'Failed Support', icon: '‚ùå', colorClass: 'bg-red-500/20 text-red-400 border-red-500/30', tooltip: 'Buying failed to hold the line.' },
+    // Legacy aliases for existing JSON files
+    'holy-grail': { label: 'Breakout Build', icon: 'üöÄ', colorClass: 'bg-purple-500/20 text-purple-400 border-purple-500/30', tooltip: 'Legacy: strong post-buy breakout.' },
+    'slump-recovery': { label: 'Bottom Catch', icon: 'üéØ', colorClass: 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30', tooltip: 'Legacy: rebound from slump.' },
+    'clamp': { label: 'Pending', icon: '‚è≥', colorClass: 'bg-slate-500/20 text-slate-300 border-slate-500/30', tooltip: 'Legacy: clustered buys pending outcome.' },
+    'restock': { label: 'Slow Burn', icon: 'üü¢', colorClass: 'bg-cyan-500/20 text-cyan-400 border-cyan-500/30', tooltip: 'Legacy: repeated accumulation.' },
+    'plateau': { label: 'Stabilizing', icon: 'üß±', colorClass: 'bg-blue-500/20 text-blue-400 border-blue-500/30', tooltip: 'Legacy: neutral accumulation.' },
+    'mid-rise': { label: 'Late Chase', icon: '‚ö†Ô∏è', colorClass: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30', tooltip: 'Legacy: bought during run-up.' },
+    'disqualified': { label: 'Failed Support', icon: '‚ùå', colorClass: 'bg-red-500/20 text-red-400 border-red-500/30', tooltip: 'Legacy: trade had poor follow-through.' }
   };
 
   // Get event classification from trade if available
   const events = Array.isArray(trade.eventClassification) ? trade.eventClassification : [];
   
   // State for tracking which badge dropdown is open
   const [expandedBadge, setExpandedBadge] = useState(null);
   
   // State for tracking hovered date in dropdown (to highlight on chart)
   const [hoveredEventDate, setHoveredEventDate] = useState(null);
   
   // Debug: log events to see if dates are present
   console.log('Events for', ticker, ':', events);
 
   return (
     <div className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
       <div className="bg-slate-900 border border-slate-700 rounded-2xl max-w-6xl w-full h-[90vh] flex flex-col shadow-2xl" style={{outline: 'none'}}>
         {/* Header */}
         <div className="bg-slate-900 border-b border-slate-700 p-6 flex justify-between items-start flex-shrink-0">
           <div className="flex-1">
             <div className="flex items-center gap-4">
               <h2 className="text-4xl font-bold text-white">{ticker}</h2>
               {stockHistory && (
                 <div className="flex items-baseline gap-2">
                   <span className="text-3xl font-bold text-white">${stockHistory.current_price}</span>
